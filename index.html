<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Question√°rio de Dons Espirituais</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      padding: 20px; 
      background-color: #f8f9fa;
    }
    h1, h2 { text-align: center; }
    
    .question { 
      background: white; 
      padding: 15px; 
      border-radius: 8px; 
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 10px;
    }
    .options label {
      display: flex;
      align-items: center;
      padding: 10px;
      font-size: 18px;
      gap: 10px;
    }
    .options input {
      width: 24px;
      height: 24px;
    }
    .button-container {
      text-align: center;
      margin-top: 20px;
    }
    button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 15px 25px;
      font-size: 18px;
      border-radius: 5px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover {
      background-color: #0056b3;
    }
    .result {
      font-weight: bold;
      margin-top: 20px;
      text-align: center;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 80%;
      max-width: 400px;
      text-align: left;
      position: relative;
    }
    .close {
      position: absolute;
      top: 10px;
      right: 15px;
      color: red;
      font-size: 24px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Question√°rio de Dons Espirituais</h1>
  <h2>Igreja adventista de Ermesinde</h2>
  <div class="button-container">
    <button onclick="openModal('instructionsModal')">Instru√ß√µes</button>
  </div>
  <form id="quizForm">
    <div id="questions"></div>
    <div class="button-container">
      <button type="button" onclick="calculateResults()">Calcular Resultados</button>
      <button type="button" onclick="confirmReset()">Zerar Tudo</button>
    </div>
  </form>
  <div id="results" class="result"></div>

  <!-- Modal de Instru√ß√µes -->
  <div id="instructionsModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('instructionsModal')">&times;</span>
      <h2>Instru√ß√µes</h2>
      <p>Marque <strong>0</strong> se a resposta √© totalmente falsa.<br>
         Marque <strong>1</strong> se a resposta √© em grande parte falsa.<br>
         Marque <strong>2</strong> se a resposta √© parcialmente falsa ou verdadeira.<br>
         Marque <strong>3</strong> se a resposta √© em grande parte verdadeira.<br>
         Marque <strong>4</strong> se a resposta √© totalmente verdadeira.<br><br>

         Responda com calma e com esp√≥rito de ora√ß√£o. üôè<br><br>

         √â <strong>obrigat√≥rio</strong> responder todas as perguntas para revelar o resultado. <br><br> 

         Caso resolva responder depois, as respontas continuar√£o aqui. </p>
    </div>
  </div>
  
  <!-- Modal de Alerta -->
  <div id="alertModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('alertModal')">&times;</span>
      <h2>Aten√ß√£o</h2>
      <p id="alertMessage"></p>
    </div>
  </div>
  
  <!-- Modal de Confirma√ß√£o para Zerar Tudo -->
  <div id="confirmResetModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('confirmResetModal')">&times;</span>
      <h2>Confirmar apagar Tudo</h2>
      <p>Tem certeza que deseja apagar todas as respostas?</p>
      <div class="button-container">
        <button type="button" onclick="resetAll()">Sim</button>
        <button type="button" onclick="closeModal('confirmResetModal')">N√£o</button>
      </div>
    </div>
  </div>
  
  <script>
    // Carrega as respostas salvas do Local Storage, se existirem.
    let responses = {};
    const storedResponses = localStorage.getItem("quizResponses");
    if (storedResponses) {
      responses = JSON.parse(storedResponses);
    }

    // Exemplo com 3 perguntas (substitua pelos 125 reais)
    const questions = [
        'Gostaria de falar com as pessoas e apresentar-lhes a vontade de Deus',
        'Gosta quando lhe pedem para fazer trabalhos manuais especiais em sua igreja?',
        'Compreende em detalhes as doutrinas b√≠blicas da igreja?',
        'Sente-se capaz de consolar algu√©m que est√° perplexo ou sofrendo?',
        'Administra bem o seu dinheiro de modo que pode dar liberalmente √† causa de Deus?',
        'Gosta de estar entre as pessoas e participar de suas atividades?',
        'Sente compaix√£o e trata de ajudar a viciados, sozinhos, etc .?',
        'Descobre facilmente novas verdades por si mesmo?',
        '√â f√°cil para voc√™ escolher entre as diferentes alternativas b√≠blicas para problemas complicados?',
        'Cr√™ firmemente nas promessas divinas?',
        'Sente compaix√£o pelos que sofrem enfermidades?',
        'Deus responde suas ora√ß√µes de maneira sobrenatural?',
        'Percebe claramente a diferen√ßa entre a verdade e o erro?',
        'Tem orado secretamente em algum idioma desconhecido para voc√™?',
        'Tem declarado em seu pr√≥prio idioma alguma mensagem que foi dada em um idioma desconhecido para voc√™?',
        'Sente-se chamado por Deus para ser respons√°vel pelo cuidado e lideran√ßa do povo de Deus?',
        'Gosta de ajudar os dirigentes para que eles possam dedicar mais tempo a assuntos essenciais?',
        'Gosta de solucionar problemas complicados da igreja?',
        'Gosta de compartilhar com outros a Palavra de Deus?',
        'Gosta da ideia de visitar os irm√£os regularmente?',
        'Agrada-lhe a ideia de ficar sem casar para dedicar todo o seu tempo √† igreja?',
        'Interessa-se em procurar e descobrir pessoas que n√£o tem comida ou casa?',
        'Adapta-se facilmente a outras culturas?',
        'Perde a no√ß√£o do tempo quando ora?',
        'Sente que sua f√© √© suficientemente forte para poder expulsar o diabo de algum possesso?',
        'Sente que pode fortalecer e animar os desanimados?',
        'Gosta de participar da ordem e limpeza de sua igreja?',
        'Gosta de ler coment√°rios b√≠blicos e estudar a fundo passagens dif√≠ceis da B√≠blia?',
        'As pessoas o procuram para se aconselhar a respeito de seus problemas?',
        'D√° com muita liberalidade objetos ou dinheiro para a igreja?',
        'Gosta de planejar atividades para a igreja e realiz√°-las?',
        '√â sens√≠vel √†s necessidades dos idosos e deficientes e procura ajud√°-los de alguma maneira?',
        'Gosta de procurar solu√ß√µes para problemas complicados?',
        'Estuda e l√™ bastante para aprender verdades b√≠blicas?',
        'Sente-se seguro em conhecer a vontade espec√≠fica de Deus para o futuro de Sua obra, mesmo quando outros hesitam?',
        'Sente-se inclinado a orar pelos enfermos?',
        'Cr√™ que no nome de Deus, mediante a f√© e a ora√ß√£o voc√™ √© capaz de alterar a ordem natural das coisas?',
        'Pode discernir os motivos que movem as pessoas?',
        'Sente a necessidade de dar alguma mensagem √† igreja em um idioma n√£o conhecido por voc√™?',
        'J√° experimentou alguma vez entender algum idioma n√£o conhecido por voc√™?',
        '√â capaz de iniciar uma nova obra ou consolidar alguma j√° existente?',
        'Gosta de ajudar no escrit√≥rio do pastor?',
        'Pode predizer com exatid√£o o resultado de suas decis√µes?',
        'Sente-se √† vontade ao pedir a algu√©m que aceite a Jesus?',
        'Acha que gostaria de visitar os interessados da igreja e estudar a B√≠blia com eles?',
        '√â f√°cil para voc√™ controlar as inclina√ß√µes diante do sexo oposto?',
        'Alegra-se quando algu√©m o visita e pede para ficar alguns dias em sua casa?',
        'Sente-se a vontade entre as pessoas de outra ra√ßa ou nacionalidade?',
        'Toma os pedidos de ora√ß√£o com muita seriedade e ora por eles em seu lar?',
        'N√£o tem medo da ideia de estar frente a frente com um endemoninhado?',
        'Tem costume de admoestar outros, produzindo corre√ß√£o e arrependimento?',
        'Sente satisfa√ß√£o ao realizar trabalhos dom√©sticos na casa do Senhor?',
        'Gosta de partilhar com outros suas descobertas ou seu entendimento da Palavra de Deus?',
        'Acha f√°cil aplicar os princ√≠pios b√≠blicos aos problemas?',
        'Gosta de animar a outros para que deem com liberalidade?',
        'Sente-se a vontade ao delegar responsabilidade a outros?',
        'Gostaria de pertencer ao grupo "Minist√©rio dos Encarcerados"?',
        '√â f√°cil para voc√™ entender as verdades b√≠blicas que s√£o dif√≠ceis para outros?',
        'Sente-se seguro de conhecer a vontade de Deus para o progresso da obra?',
        'Confia plenamente no poder de Deus durante situa√ß√µes dificeis?',
        'Em nome de Deus, voc√™ se sente capaz de curar enfermos?',
        'Sua vida est√° em tal relacionamento com Deus que Ele pode us√°-lo para realizar atos sobrenaturais?',
        'Sabe quando uma pessoa √© influenciada por Deus ou pelo diabo?',
        'J√° falou em algum idioma desconhecido por voc√™?',
        'Tem desejo de poder interpretar alguma mensagem apresentada em algum idioma desconhecido por voc√™?',
        'Voc√™ √© consultado por outros irm√£os a respeito de problemas eclesi√°sticos ou doutrin√°rios?',
        'Preocupa-se com os necessitados e procura satisfazer suas necessidades?',
        'Sente-se capaz de desenvolver planos e leva-los a bom termo?',
        'Prefere dedicar seu tempo livre a pregar o evangelho?',
        'Gostaria de ocupar o p√∫lpito todas as semanas?',
        'Acredita que n√£o perderia uma b√™n√ß√£o se ficasse sem casar?',
        '"Minha casa √© sua casa". Este √© o seu lema pr√°tico?',
        'Aprecia a vida em um pa√≠s estrangeiro?',
        'Gosta de orar pela igreja e o faz constantemente?',
        'Gostaria de enfrentar o dem√¥nio cara a cara e domin√°-lo em nome de Jesus?',
        'Tem se sentido impressionado com mensagens especiais as quais voc√™ transmite sem se importar com as consequ√™ncias?',
        'Est√° pronto para obedecer ordens, em vez de d√°-las?',
        'Sente-se capaz de explicar a outros claramente os ensinos biblicos?',
        'Anima aos inconstantes e desanimados?',
        'Sente-se comovido a procura fazer algo quando a igreja necessita de ajuda financeira?',
        'Sente que sua influ√™ncia afeta a outros para trabalhar pelo Senhor?',
        '√â imposs√≠vel para voc√™ passar por alto algum esmoler?',
        'Voc√™ acha f√°cil apresentar alternativas sem tomar posi√ß√µes?',
        'Domina completamente as verdades biblicas?',
        'Geralmente n√£o se desanima quando as coisas n√£o v√£o bem?',
        'Voc√™ ora de tal maneira que os doentes se sentem melhor?',
        'Voc√™ j√° realizou algum milagre pelo poder de Deus?',
        'Pode reconhecer os dons espirituais nos demais?',
        'A ideia de poder falar em l√≠nguas o atrai?',
        'Acredita que os dons de l√≠nguas e interpreta√ß√£o s√£o realmente necess√°rios nestes dias para a proclama√ß√£o do evangelho?',
        'S√£o suas opini√µes tomadas a s√©rio e seguidas pelo resto dos irm√£os?',
        'Gosta de distribuir literatura, revistas, folhetos, etc .?',
        'Prefere presidir reuni√µes e apresentar alvos em vez de ser s√≥ um participante?',
        'Sente o desejo de falar com incr√©dulos a finalidade de ganha-los?',
        'Fica emocionado com a ideia de poder ser o pastor da igreja?',
        'Acha que se voc√™ se casasse, sua fam√≠lia seria um estorvo em seu minist√©rio em vez de uma b√™n√ß√£o?',
        'Gosta de cumprimentar os visitantes da igreja e convid√°-los a comer e/ou dormir em sua casa, se for necess√°rio?',
        'Sente a necessidade de ser um pregador em outros paises?',
        '√â a ora√ß√£o seu exerc√≠cio espiritual favorito?',
        'J√° utilizou o poder de Deus para expulsar o dem√¥nio de alguma pessoa?',
        '√â o progresso geral da obra e a satisfa√ß√£o das necessidades dos irm√£os a grande obsess√£o de sua vida?',
        'Sente alegria e satisfa√ß√£o quando poder servir a algu√©m?',
        'Prefere ensinar que ser ajudante, e seus alunos praticam seus ensinos?',
        'Sente o desejo de chamar a aten√ß√£o dos que est√£o procedendo mal?',
        'Voc√™ √© capaz de ganhar muito dinheiro para a causa de Deus?',
        'Sente-se capaz de recrutar crist√£os e p√¥-los para trabalhar?',
        'Percorre facilmente a segunda milha e/ou oferece a outra face?',
        'Os dirigentes e l√≠deres geralmente buscam seus conselhos, voc√™ lhes mostra os planos que devem seguir, os quais regularmente d√£o certo?',
        'Voc√™ √© procurado pelos demais irm√£os para responder suas perguntas?',
        'Entre as gra√ßas crist√£s, a f√© √© a sua favorita?',
        'Preocupa-se com a sa√∫de f√≠sica de seus semelhantes?',
        'Alguma vez j√° sentiu o desejo ou a inclina√ß√£o de pedir a Deus que efetue algum ato sobrenatural para proveito de outro, crendo que Deus atender√° seu pedido?',
        'Percebe a presen√ßa do mal antes que seja evidente?',
        'O dom de l√≠nguas √© atualmente necess√°rio para a edifica√ß√£o do corpo de Cristo?',
        'Acha que √© necess√°rio ou ben√©fico para a igreja apresentar mensagens em idiomas desconhecidos e interpret√°-los?',
        'Sente que √© seu dever chamar a aten√ß√£o de algum administrador que n√£o est√° agindo bem?',
        'Prefere ser ajudante e n√£o o professor de uma classe biblica?',
        'Sente-se capacitado para presidir ou supervisionar os irm√£os?',
        'Entende claramente os passos que levam uma pessoa √† salva√ß√£o?',
        'Gostaria de organizar, planejar e supervisionar todas as atividades da igreja?',
        'Considera-se capaz de ficar sem casar sem passar por tenta√ß√µes?',
        'Tem, de maneira regular, h√≥spedes em sua mesa, principalmente aos s√°bados?',
        'Ou para sempre, gostaria de pregar o evangelho em outros paises?',
        'Deus responde suas ora√ß√µes frequentemente de maneira tang√≠vel?',
        'Sente-se atra√≠do a situa√ß√µes onde h√° endemoninhados e √© procurado para expulsar o dem√¥nio pelo uso que voc√™ faz do poder de Deus?',
    ];
    
    const gifts = {
      "Profecia": [1, 26, 51, 76, 101],
      "Servi√ßo": [2, 27, 52, 77, 102],
      "Ensino": [3, 28, 53, 78, 103],
      "Exorta√ß√£o": [4, 29, 54, 79, 104],
      "D√°divas": [5, 30, 55, 80, 105],
      "Lideran√ßa": [6, 31, 56, 81, 106],
      "Miseric√≥rdia": [7, 32, 57, 82, 107],
      "Sabedoria": [8, 33, 58, 83, 108],
      "Conhecimento": [9, 34, 59, 84, 109],
      "F√©": [10, 35, 60, 85, 110],
      "Curas": [11, 36, 61, 86, 111],
      "Milagres": [12, 37, 62, 87, 112],
      "Discernimento": [13, 38, 63, 88, 113],
      "Linguas": [14, 39, 64, 89, 114],
      "Interpreta√ß√£o": [15, 40, 65, 90, 115],
      "Apostolado": [16, 41, 66, 91, 116],
      "Ajudas": [17, 42, 67, 92, 117],
      "Administra√ß√£o": [18, 43, 68, 93, 118],
      "Evangelismo": [19, 44, 69, 94, 119],
      "Pastorado": [20, 45, 70, 95, 120],
      "Celibato": [21, 46, 71, 96, 121],
      "Hospitalidade": [22, 47, 72, 97, 122],
      "Mission√°rio": [23, 48, 73, 98, 123],
      "Intercess√£o": [24, 49, 74, 99, 124],
      "Exorcismo": [25, 50, 75, 100, 125]
    };

    // Renderiza as perguntas e carrega as respostas salvas, se houver.
    function renderQuestions() {
      const container = document.getElementById("questions");
      container.innerHTML = "";
      questions.forEach((q, index) => {
        // Adiciona um id √∫nico para cada pergunta para facilitar a √¢ncora.
        let html = `<div class="question" id="question-${index + 1}">
          <p>${index + 1}. ${q}</p>
          <div class="options">`;
        for (let i = 0; i <= 4; i++) {
          let checked = "";
          if (responses[index + 1] !== undefined && responses[index + 1] === i) {
            checked = "checked";
          }
          html += `<label><input type="radio" name="q${index + 1}" value="${i}" ${checked} onchange="saveResponse(${index + 1}, ${i})"> ${i}</label>`;
        }
        html += `</div></div>`;
        container.innerHTML += html;
      });
    }

    // Salva a resposta de uma pergunta no Local Storage.
    function saveResponse(questionNumber, value) {
      responses[questionNumber] = value;
      localStorage.setItem("quizResponses", JSON.stringify(responses));
    }

    // Valida as respostas e, se todas estiverem preenchidas, calcula os resultados.
    function calculateResults() {
      let missingQuestions = [];
      questions.forEach((q, index) => {
        let checked = document.querySelector(`input[name="q${index + 1}"]:checked`);
        if (!checked) missingQuestions.push(index + 1);
      });

      if (missingQuestions.length > 0) {
        document.getElementById("alertMessage").innerHTML = "Por favor, responda as seguintes perguntas: " + missingQuestions.join(", ");
        openModal("alertModal");
        // Rola suavemente at√© a primeira pergunta faltante
        document.getElementById("question-" + missingQuestions[0]).scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
      }
      
      let scores = {};
      for (let gift in gifts) {
        scores[gift] = 0;
        gifts[gift].forEach(qNumber => {
          if (responses[qNumber] !== undefined) {
            scores[gift] += parseInt(responses[qNumber]);
          }
        });
      }

      let sortedGifts = Object.entries(scores).sort((a, b) => b[1] - a[1]).slice(0, 5);
      let resultHTML = "<h2>Top 5 Dons Espirituais:</h2>";
      sortedGifts.forEach(g => {
        resultHTML += `<p>${g[0]}: ${g[1]} pontos</p>`;
      });
      document.getElementById("results").innerHTML = resultHTML;
    }

    // Fun√ß√µes para abrir e fechar modais.
    function openModal(id) {
      document.getElementById(id).style.display = "flex";
    }

    function closeModal(id) {
      document.getElementById(id).style.display = "none";
    }

    // Abre o modal de confirma√ß√£o para resetar tudo.
    function confirmReset() {
      openModal("confirmResetModal");
    }

    // Reseta todas as respostas e limpa o Local Storage.
    function resetAll() {
      responses = {};
      localStorage.removeItem("quizResponses");
      renderQuestions();
      document.getElementById("results").innerHTML = "";
      closeModal("confirmResetModal");
    }

    renderQuestions();
  </script>
</body>
</html>
